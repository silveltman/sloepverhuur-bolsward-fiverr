<div x-data="{ active: null }" class="accordion-container">
  {% for item in list %}
    <div x-data="{ 
      id: {{ forloop.index }},
      get expanded() {
        return this.active === this.id
      },
      set expanded(value) {
        this.active = value ? this.id : null
      }
    }" 
    role="region" class="accordion">
      <h3 class="accordion__h3">
        <button @click="expanded = !expanded" class="accordion__btn" :aria-expanded="expanded">
          <span class="accordion__title">{{ item.title }}</span>
          <span x-show="expanded" class="accordion__icon">&minus;</span>
          <span x-show="!expanded" class="accordion__icon">&plus;</span>
        </button>
      </h3>
      <p x-show="expanded" class="accordion__p" x-collapse.duration.200>{{ item.text }}</p>
    </div>
  {% endfor %}
</div>

